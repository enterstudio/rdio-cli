#!/usr/bin/env ruby
require 'rdio'
require 'benchmark'

trap "SIGINT" do
  exit 0
end

trap "INT" do
  exit 0
end

if ARGV[0] == 'c' || ARGV[0] == 'console'
  loop do
    print '> '
    input = $stdin.gets.chomp

    if input == 'exit'
      exit
    else
      puts Benchmark.measure {
        args = input.split(' ')
        Rdio.run(args)
      }
    end
  end
else
  Rdio.run(ARGV)
end
